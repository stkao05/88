{"version":3,"sources":["main.js"],"names":["BREAKPOINT","_parallex","container","background","querySelector","document","onscroll","backgroundRect","getBoundingClientRect","containerRect","hiddenLength","height","totalScrollLength","window","innerHeight","bottom","top","scrollProgress","delta","style","setupYoutube","playerElementId","videoWidth","videoHeight","onPlayerReady","event","target","playVideo","mute","onPlayerStateChange","data","YT","PlayerState","PLAYING","classList","add","onYouTubePlayerAPIReady","Player","width","innerWidth","videoId","playerVars","autoplay","autohide","loop","modestbranding","rel","showinfo","controls","disablekb","enablejsapi","playsinline","iv_load_policy","events","onReady","onStateChange","querySelectorAll","forEach","expansion_header","menu","headerHeight","header","calcHeight","h","zIndex","clientHeight","addEventListener","contains","remove"],"mappings":";CAAC,WACKA,IAAAA,EAAa,IA2FRC,SAAAA,EAAUC,GACbC,IAAAA,EAAaD,EAAUE,cAAc,wBAEzCC,SAASC,SAAW,WACdC,IAAAA,EAAiBJ,EAAWK,wBAC5BC,EAAgBP,EAAUM,wBAE1BE,EAAeH,EAAeI,OAASF,EAAcE,OACrDC,EAAoBC,OAAOC,YAAcL,EAAcE,OAGvDF,KAAAA,EAAcM,OAAS,GAAKN,EAAcO,IAAMH,OAAOC,aAAvDL,CAIAQ,IAGAC,GAAS,GAFVT,EAAcO,IAAMP,EAAcE,QAAUC,GAEZF,EACnCP,EAAWgB,MAAMH,KAAO,EAAIE,EAAQ,QAtE/BE,WACHC,IAAAA,EAAkB,iBAGlBC,EAAa,IACbC,EAAc,IA2BTC,SAAAA,EAAcC,GACrBA,EAAMC,OAAOC,YACbF,EAAMC,OAAOE,OAGNC,SAAAA,EAAoBJ,GACvBA,EAAMK,MAAQC,GAAGC,YAAYC,SAC/B5B,SAASD,cAAc,mBAAmB8B,UAAUC,IAAI,WAI5DtB,OAAOuB,wBApCEA,WACE,IAAIL,GAAGM,OAAOhB,EAAiB,CACtCiB,MAAOzB,OAAO0B,WACd5B,OAAQE,OAAO0B,YAAcjB,EAAaC,GAC1CiB,QAAS,cACTC,WAAY,CACVC,SAAU,EACVC,SAAU,EACVC,KAAM,EACNC,eAAgB,EAChBC,IAAK,EACLC,SAAU,EACVC,SAAU,EACVC,UAAW,EACXC,YAAa,EACbC,YAAa,EACbC,eAAgB,GAElBC,OAAQ,CACNC,QAAS9B,EACT+B,cAAe1B,MA+CvBT,GA3BmBf,SAASmD,iBAAiB,aAChCC,QAAQxD,GAtFZyD,WACHC,IAEAC,EAFAD,EAAOtD,SAASD,cAAc,SAC9ByD,EAASxD,SAASD,cAAc,qBAG3B0D,SAAAA,IACHC,IAAAA,EAMGA,OALPF,EAAO1C,MAAM6C,QAAU,EACvBH,EAAO1C,MAAMR,OAAS,OACtBoD,EAAIF,EAAOI,aACXJ,EAAO1C,MAAM6C,OAAS,GACtBH,EAAO1C,MAAMR,OAAS,GACfoD,EAGTlD,OAAOqD,iBAAiB,SAAU,WAC5BrD,OAAO0B,YAAcvC,EACvB4D,EAAeE,IAEfD,EAAO1C,MAAMR,OAAS,KAItBE,OAAO0B,YAAcvC,IACvB4D,EAAeE,KAGjBH,EAAKO,iBAAiB,QAAS,WACzBL,EAAO3B,UAAUiC,SAAS,OAC5BN,EAAO3B,UAAUkC,OAAO,MACxBP,EAAO1C,MAAMR,OAAS,QAEtBkD,EAAO3B,UAAUC,IAAI,MACrB0B,EAAO1C,MAAMR,OAASiD,EAAe,QAiF3CF,GArHD","file":"main.67cfb23e.map","sourceRoot":"../src","sourcesContent":[";(function() {\n  var BREAKPOINT = 700\n\n  function expansion_header() {\n    var menu = document.querySelector(\".menu\")\n    var header = document.querySelector(\".expansion_header\")\n    var headerHeight\n\n    function calcHeight() {\n      var h\n      header.style.zIndex = -1\n      header.style.height = \"auto\"\n      h = header.clientHeight\n      header.style.zIndex = \"\"\n      header.style.height = \"\"\n      return h\n    }\n\n    window.addEventListener(\"resize\", function() {\n      if (window.innerWidth <= BREAKPOINT) {\n        headerHeight = calcHeight()\n      } else {\n        header.style.height = \"\"\n      }\n    })\n\n    if (window.innerWidth <= BREAKPOINT) {\n      headerHeight = calcHeight()\n    }\n\n    menu.addEventListener(\"click\", function() {\n      if (header.classList.contains(\"on\")) {\n        header.classList.remove(\"on\")\n        header.style.height = 0 + \"px\"\n      } else {\n        header.classList.add(\"on\")\n        header.style.height = headerHeight + \"px\"\n      }\n    })\n  }\n\n  function setupYoutube() {\n    var playerElementId = \"youtube_player\"\n    var player\n\n    var videoWidth = 1000\n    var videoHeight = 677\n\n    function onYouTubePlayerAPIReady() {\n      player = new YT.Player(playerElementId, {\n        width: window.innerWidth,\n        height: window.innerWidth / (videoWidth / videoHeight),\n        videoId: \"dimqEPg0NpE\",\n        playerVars: {\n          autoplay: 0,\n          autohide: 1,\n          loop: 1,\n          modestbranding: 1,\n          rel: 0,\n          showinfo: 0,\n          controls: 0,\n          disablekb: 1,\n          enablejsapi: 1,\n          playsinline: 1,\n          iv_load_policy: 3,\n        },\n        events: {\n          onReady: onPlayerReady,\n          onStateChange: onPlayerStateChange,\n        },\n      })\n    }\n\n    function onPlayerReady(event) {\n      event.target.playVideo()\n      event.target.mute()\n    }\n\n    function onPlayerStateChange(event) {\n      if (event.data == YT.PlayerState.PLAYING) {\n        document.querySelector(\".video.parallex\").classList.add(\"playing\")\n      }\n    }\n\n    window.onYouTubePlayerAPIReady = onYouTubePlayerAPIReady\n  }\n\n  function parallex() {\n    var containers = document.querySelectorAll(\".parallex\")\n    containers.forEach(_parallex)\n  }\n\n  function _parallex(container) {\n    var background = container.querySelector(\".parallex_background\")\n\n    document.onscroll = function() {\n      var backgroundRect = background.getBoundingClientRect()\n      var containerRect = container.getBoundingClientRect()\n\n      var hiddenLength = backgroundRect.height - containerRect.height\n      var totalScrollLength = window.innerHeight + containerRect.height\n\n      // when not visible to the view yet\n      if (containerRect.bottom < 0 || containerRect.top > window.innerHeight) {\n        return\n      }\n\n      var scrollProgress =\n        (containerRect.top + containerRect.height) / totalScrollLength\n\n      var delta = (1 - scrollProgress) * hiddenLength\n      background.style.top = -1 * delta + \"px\"\n    }\n  }\n\n  setupYoutube()\n  parallex()\n  expansion_header()\n})()\n"]}