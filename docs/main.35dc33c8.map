{"version":3,"sources":["main.js"],"names":["_parallex","container","background","querySelector","document","onscroll","backgroundRect","getBoundingClientRect","containerRect","hiddenLength","height","totalScrollLength","window","innerHeight","bottom","top","scrollProgress","delta","style","setTimeout","setupYoutube","playerElementId","videoWidth","videoHeight","onPlayerReady","event","target","playVideo","mute","onPlayerStateChange","data","YT","PlayerState","PLAYING","classList","add","onYouTubePlayerAPIReady","Player","width","innerWidth","videoId","playerVars","autoplay","autohide","loop","modestbranding","rel","showinfo","controls","disablekb","enablejsapi","playsinline","iv_load_policy","events","onReady","onStateChange","querySelectorAll","forEach"],"mappings":";CAAC,WAoDUA,SAAAA,EAAUC,GACbC,IAAAA,EAAaD,EAAUE,cAAc,wBAEzCC,SAASC,SAAW,WACdC,IAAAA,EAAiBJ,EAAWK,wBAC5BC,EAAgBP,EAAUM,wBAE1BE,EAAeH,EAAeI,OAASF,EAAcE,OACrDC,EAAoBC,OAAOC,YAAcL,EAAcE,OAGvDF,KAAAA,EAAcM,OAAS,GAAKN,EAAcO,IAAMH,OAAOC,aAAvDL,CAIAQ,IAGAC,GAAS,GAFVT,EAAcO,IAAMP,EAAcE,QAAUC,GAEZF,EACnCP,EAAWgB,MAAMH,KAAO,EAAIE,EAAQ,OAIxCE,WAAW,YA1EFC,WACHC,IAAAA,EAAkB,iBAGlBC,EAAa,IACbC,EAAc,IA2BTC,SAAAA,EAAcC,GACrBA,EAAMC,OAAOC,YACbF,EAAMC,OAAOE,OAGNC,SAAAA,EAAoBJ,GACvBA,EAAMK,MAAQC,GAAGC,YAAYC,SAC/B7B,SAASD,cAAc,mBAAmB+B,UAAUC,IAAI,WAI5DvB,OAAOwB,wBApCEA,WACE,IAAIL,GAAGM,OAAOhB,EAAiB,CACtCiB,MAAO1B,OAAO2B,WACd7B,OAAQE,OAAO2B,YAAcjB,EAAaC,GAC1CiB,QAAS,cACTC,WAAY,CACVC,SAAU,EACVC,SAAU,EACVC,KAAM,EACNC,eAAgB,EAChBC,IAAK,EACLC,SAAU,EACVC,SAAU,EACVC,UAAW,EACXC,YAAa,EACbC,YAAa,EACbC,eAAgB,GAElBC,OAAQ,CACNC,QAAS9B,EACT+B,cAAe1B,MAgDrBT,GA5BiBhB,SAASoD,iBAAiB,aAChCC,QAAQzD,IA6BlB,KA9EJ","file":"main.35dc33c8.map","sourceRoot":"../src","sourcesContent":[";(function() {\n  function setupYoutube() {\n    var playerElementId = \"youtube_player\"\n    var player\n\n    var videoWidth = 1000\n    var videoHeight = 677\n\n    function onYouTubePlayerAPIReady() {\n      player = new YT.Player(playerElementId, {\n        width: window.innerWidth,\n        height: window.innerWidth / (videoWidth / videoHeight),\n        videoId: \"dimqEPg0NpE\",\n        playerVars: {\n          autoplay: 0,\n          autohide: 1,\n          loop: 1,\n          modestbranding: 1,\n          rel: 0,\n          showinfo: 0,\n          controls: 0,\n          disablekb: 1,\n          enablejsapi: 1,\n          playsinline: 1,\n          iv_load_policy: 3,\n        },\n        events: {\n          onReady: onPlayerReady,\n          onStateChange: onPlayerStateChange,\n        },\n      })\n    }\n\n    function onPlayerReady(event) {\n      event.target.playVideo()\n      event.target.mute()\n    }\n\n    function onPlayerStateChange(event) {\n      if (event.data == YT.PlayerState.PLAYING) {\n        document.querySelector(\".video.parallex\").classList.add(\"playing\")\n      }\n    }\n\n    window.onYouTubePlayerAPIReady = onYouTubePlayerAPIReady\n  }\n\n  function parallex() {\n    var containers = document.querySelectorAll(\".parallex\")\n    containers.forEach(_parallex)\n  }\n\n  function _parallex(container) {\n    var background = container.querySelector(\".parallex_background\")\n\n    document.onscroll = function() {\n      var backgroundRect = background.getBoundingClientRect()\n      var containerRect = container.getBoundingClientRect()\n\n      var hiddenLength = backgroundRect.height - containerRect.height\n      var totalScrollLength = window.innerHeight + containerRect.height\n\n      // when not visible to the view yet\n      if (containerRect.bottom < 0 || containerRect.top > window.innerHeight) {\n        return\n      }\n\n      var scrollProgress =\n        (containerRect.top + containerRect.height) / totalScrollLength\n\n      var delta = (1 - scrollProgress) * hiddenLength\n      background.style.top = -1 * delta + \"px\"\n    }\n  }\n\n  setTimeout(() => {\n    setupYoutube()\n    parallex()\n  }, 100)\n})()\n"]}