{"version":3,"sources":["main.js"],"names":["BREAKPOINT","youtubeVideoId","videoWidth","videoHeight","_parallex","container","background","querySelector","document","onscroll","backgroundRect","getBoundingClientRect","containerRect","hiddenLength","height","totalScrollLength","window","innerHeight","bottom","top","scrollProgress","delta","style","setupYoutube","playerElementId","onPlayerReady","event","target","playVideo","mute","onPlayerStateChange","data","YT","PlayerState","PLAYING","classList","add","onYouTubePlayerAPIReady","Player","width","innerWidth","videoId","playerVars","autoplay","autohide","loop","modestbranding","rel","showinfo","controls","disablekb","enablejsapi","playsinline","iv_load_policy","events","onReady","onStateChange","querySelectorAll","forEach","expansion_header","menu","headerHeight","header","calcHeight","h","zIndex","clientHeight","closeHeader","remove","addEventListener","contains","link","btn","scrollTo","left","behavior"],"mappings":";CAAC,WACKA,IAAAA,EAAa,IAEbC,EAAiB,cACjBC,EAAa,IACbC,EAAc,IAoGTC,SAAAA,EAAUC,GACbC,IAAAA,EAAaD,EAAUE,cAAc,wBAEzCC,SAASC,SAAW,WACdC,IAAAA,EAAiBJ,EAAWK,wBAC5BC,EAAgBP,EAAUM,wBAE1BE,EAAeH,EAAeI,OAASF,EAAcE,OACrDC,EAAoBC,OAAOC,YAAcL,EAAcE,OAGvDF,KAAAA,EAAcM,OAAS,GAAKN,EAAcO,IAAMH,OAAOC,aAAvDL,CAIAQ,IAGAC,GAAS,GAFVT,EAAcO,IAAMP,EAAcE,QAAUC,GAEZF,EACnCP,EAAWgB,MAAMH,KAAO,EAAIE,EAAQ,QAnE/BE,WACHC,IAAAA,EAAkB,iBA4BbC,SAAAA,EAAcC,GACrBA,EAAMC,OAAOC,YACbF,EAAMC,OAAOE,OAGNC,SAAAA,EAAoBJ,GACvBA,EAAMK,MAAQC,GAAGC,YAAYC,SAC/B1B,SAASD,cAAc,mBAAmB4B,UAAUC,IAAI,WAI5DpB,OAAOqB,wBApCEA,WACE,IAAIL,GAAGM,OAAOd,EAAiB,CACtCe,MAAOvB,OAAOwB,WACd1B,OAAQE,OAAOwB,YAActC,EAAaC,GAC1CsC,QAASxC,EACTyC,WAAY,CACVC,SAAU,EACVC,SAAU,EACVC,KAAM,EACNC,eAAgB,EAChBC,IAAK,EACLC,SAAU,EACVC,SAAU,EACVC,UAAW,EACXC,YAAa,EACbC,YAAa,EACbC,eAAgB,GAElBC,OAAQ,CACNC,QAAS9B,EACT+B,cAAe1B,MAuDvBP,GAnCmBf,SAASiD,iBAAiB,aAChCC,QAAQtD,GA/FZuD,WACHC,IAEAC,EAFAD,EAAOpD,SAASD,cAAc,SAC9BuD,EAAStD,SAASD,cAAc,qBAG3BwD,SAAAA,IACHC,IAAAA,EAMGA,OALPF,EAAOxC,MAAM2C,QAAU,EACvBH,EAAOxC,MAAMR,OAAS,OACtBkD,EAAIF,EAAOI,aACXJ,EAAOxC,MAAM2C,OAAS,GACtBH,EAAOxC,MAAMR,OAAS,GACfkD,EAeAG,SAAAA,IACPL,EAAO3B,UAAUiC,OAAO,MACxBN,EAAOxC,MAAMR,OAAS,MAdxBE,OAAOqD,iBAAiB,SAAU,WAC5BrD,OAAOwB,YAAcxC,EACvB6D,EAAeE,IAEfD,EAAOxC,MAAMR,OAAS,KAItBE,OAAOwB,YAAcxC,IACvB6D,EAAeE,KAQjBH,EAAKS,iBAAiB,QAAS,WACzBP,EAAO3B,UAAUmC,SAAS,MAC5BH,KAEAL,EAAO3B,UAAUC,IAAI,MACrB0B,EAAOxC,MAAMR,OAAS+C,EAAe,QAIzCrD,SAASiD,iBAAiB,sBAAsBC,QAAQ,SAASa,GAC/DA,EAAKF,iBAAiB,QAAS,WACzBP,EAAO3B,UAAUmC,SAAS,OAC5BH,QAuFRR,GATEnD,SAASiD,iBAAiB,oBAAoBC,QAAQ,SAAAc,GACpDA,EAAIH,iBAAiB,QAAS,WAC5BrD,OAAOyD,SAAS,CAAEtD,IAAK,EAAGuD,KAAM,EAAGC,SAAU,eAnIpD","file":"main.d8d555c0.js","sourceRoot":"../src","sourcesContent":[";(function() {\n  var BREAKPOINT = 700\n\n  var youtubeVideoId = \"aobDr6nfs9k\"\n  var videoWidth = 560\n  var videoHeight = 315\n\n  function expansion_header() {\n    var menu = document.querySelector(\".menu\")\n    var header = document.querySelector(\".expansion_header\")\n    var headerHeight\n\n    function calcHeight() {\n      var h\n      header.style.zIndex = -1\n      header.style.height = \"auto\"\n      h = header.clientHeight\n      header.style.zIndex = \"\"\n      header.style.height = \"\"\n      return h\n    }\n\n    window.addEventListener(\"resize\", function() {\n      if (window.innerWidth <= BREAKPOINT) {\n        headerHeight = calcHeight()\n      } else {\n        header.style.height = \"\"\n      }\n    })\n\n    if (window.innerWidth <= BREAKPOINT) {\n      headerHeight = calcHeight()\n    }\n\n    function closeHeader() {\n      header.classList.remove(\"on\")\n      header.style.height = 0 + \"px\"\n    }\n\n    menu.addEventListener(\"click\", function() {\n      if (header.classList.contains(\"on\")) {\n        closeHeader()\n      } else {\n        header.classList.add(\"on\")\n        header.style.height = headerHeight + \"px\"\n      }\n    })\n\n    document.querySelectorAll(\".site_header nav a\").forEach(function(link) {\n      link.addEventListener(\"click\", function() {\n        if (header.classList.contains(\"on\")) {\n          closeHeader()\n        }\n      })\n    })\n  }\n\n  function setupYoutube() {\n    var playerElementId = \"youtube_player\"\n    var player\n\n    function onYouTubePlayerAPIReady() {\n      player = new YT.Player(playerElementId, {\n        width: window.innerWidth,\n        height: window.innerWidth / (videoWidth / videoHeight),\n        videoId: youtubeVideoId,\n        playerVars: {\n          autoplay: 0,\n          autohide: 1,\n          loop: 1,\n          modestbranding: 1,\n          rel: 0,\n          showinfo: 1,\n          controls: 1,\n          disablekb: 1,\n          enablejsapi: 1,\n          playsinline: 1,\n          iv_load_policy: 3,\n        },\n        events: {\n          onReady: onPlayerReady,\n          onStateChange: onPlayerStateChange,\n        },\n      })\n    }\n\n    function onPlayerReady(event) {\n      event.target.playVideo()\n      event.target.mute()\n    }\n\n    function onPlayerStateChange(event) {\n      if (event.data == YT.PlayerState.PLAYING) {\n        document.querySelector(\".video.parallex\").classList.add(\"playing\")\n      }\n    }\n\n    window.onYouTubePlayerAPIReady = onYouTubePlayerAPIReady\n  }\n\n  function parallex() {\n    var containers = document.querySelectorAll(\".parallex\")\n    containers.forEach(_parallex)\n  }\n\n  function _parallex(container) {\n    var background = container.querySelector(\".parallex_background\")\n\n    document.onscroll = function() {\n      var backgroundRect = background.getBoundingClientRect()\n      var containerRect = container.getBoundingClientRect()\n\n      var hiddenLength = backgroundRect.height - containerRect.height\n      var totalScrollLength = window.innerHeight + containerRect.height\n\n      // when not visible to the view yet\n      if (containerRect.bottom < 0 || containerRect.top > window.innerHeight) {\n        return\n      }\n\n      var scrollProgress =\n        (containerRect.top + containerRect.height) / totalScrollLength\n\n      var delta = (1 - scrollProgress) * hiddenLength\n      background.style.top = -1 * delta + \"px\"\n    }\n  }\n\n  function headerBackToTop() {\n    document.querySelectorAll(\".back_to_top_btn\").forEach(btn => {\n      btn.addEventListener(\"click\", function() {\n        window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" })\n      })\n    })\n  }\n\n  setupYoutube()\n  parallex()\n  expansion_header()\n  headerBackToTop()\n})()\n"]}